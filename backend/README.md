# LoRa TestBed platform

# 系统设计说明书

## 引言

### 编写目的
    
此文档中， 我们应该确定如何具体地实现 LoRa 测试床平台，从而在编码阶段可以把这个描述直接翻译成用具体的程序语言书写的程序。
本文档适用于程序开发人员、测试人员。

### 参考资料

- [LoRa Server documentation
](https://docs.loraserver.io/loraserver/)

## 系统需求

### 总体描述

系统采用 B/S 结构，客户端通过浏览器登录系统，然后执行相应操作。本系统针对的用户主要是具备一定电脑使用知识以及LoRa协议知识的科研人员，用于测试基于LoRaWAN的应用并返回用户LoRa节点收集到的数据。
在利用系统工作时，首先用户需要提交信息报备管理员进而申请到合法用户名和密码。用户可以通过登录平台选择可使用节点并上传自行编译的Bin文件烧录节点。点击进入已烧录节点可以获取LoRa节点采集到的数据并导出Excel表格。

### 功能

#### 系统功能图

![系统功能图](http://ou1h4mwlq.bkt.clouddn.com/%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%9B%BE.png)

#### 功能介绍

系统的功能主要针对于用户和管理员两种身份。
- 用户功能：烧录节点、查看节点采集的数据
- 管理员功能：查收邮件并审核注册用户
![用户-用例图](http://ou1h4mwlq.bkt.clouddn.com/%E7%94%A8%E4%BE%8B%E5%9B%BE.png)

### 性能

- 对一次数据交换的系统响应时间：平均1秒，最大3秒。
- 用户并发访问时，服务器运行正常，web端访问正常。

## 总体架构设计

### 系统设计目标

LoRa 测试床平台，主要为科研人员提供真实环境下的 LoRa 节点进行数据采集分析。
本系统的九大目标是：
- 较高的软件性能，LoRa TestBed的响应速度、处理事件速度和站的加载速度都在预期范围内，给用户良好的使用体验。
- 较高的可靠性，在具体不同的使用环境下，在给定的时间内，LoRa TestBed 系统发生故障的概率极低。
- 较高的健壮性，在某些异常情况下，LoRa TestBed 仍能正常运行，即一是有较好的容错能力，二是有较好的恢复能力。
- 较高的安全性，LoRa TestBed应具有较高的防止SQL注入、防止非法入侵的能力。
- 较高的可修改性，能够快速地以较高的性价比对LoRa TestBed 平台进行功能变更。
- 较高的可变性，能够随着应用需求实现扩充和改动。
- 较高的易用性，LoRa TestBed 平台简单易用，符合科研人员对计算机使用水平。
- 较高的可测试性，LoRa TestBed可以进行测试设计、测试执行，当发生故障时，可以定位故障的原因。
- 较高的功能性，LoRa TestBed 测试平台完成所期望的工作能力，即完成之前提出的功能需求。


## 接口设计


## 数据库设计


## 系统详细设计

### 登录模块

![时序图](http://ou1h4mwlq.bkt.clouddn.com/%E7%99%BB%E5%BD%95.png)

### 注册模块

![时序图](http://ou1h4mwlq.bkt.clouddn.com/%E6%B3%A8%E5%86%8C.png)


### 烧录节点模块

![时序图](http://ou1h4mwlq.bkt.clouddn.com/%E7%83%A7%E5%BD%95%E8%8A%82%E7%82%B9.png)

### 查看节点信息模块

![时序图](http://ou1h4mwlq.bkt.clouddn.com/%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE.png)


## 运行设计

### 运行过程

### 系统流程

### 客户端运行环境


## 系统出错设计

### 数据库连接错误

### 输入错误

### 其他操作错误

### 其他不可预知错误



